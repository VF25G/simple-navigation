{"version":3,"sources":["main.js"],"names":["searchFormList","bing","action","name","google","baidu","searchEngineColor","$siteList","$","localStored","localStorage","getItem","localStoredObject","JSON","parse","localStoredHashMap","favicon","url","simplifyUrl","replace","domainName","render","find","remove","forEach","node","index","$li","on","window","open","e","stopPropagation","splice","append","$searchFrom","$searchInput","currentSearchEngine","changeSearchEngine","eventOrButtonName","buttonName","Object","currentClassName","currentTarget","className","css","attr","faviconUrl","faviconAPI","baseURl","prompt","indexOf","push","onbeforeunload","hashMapString","stringify","setItem","document","ready","val"],"mappings":"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","file":"main.e36f8654.js","sourceRoot":"../src","sourcesContent":["let searchFormList = {\n    bing: {action: \"https://www.bing.com\", name: \"q\"},\n    google: {action: \"https://www.google.com/search\", name: \"q\"},\n    baidu: {action: \"https://www.baidu.com/s\", name: \"wd\"}\n}\n\nconst searchEngineColor = {\n    bing: '#008383',\n    google: '#008AF2',\n    baidu: '#0047DE'\n}\n\nconst $siteList = $('.siteList')\nconst localStored = localStorage.getItem('localStored')\nconst localStoredObject = JSON.parse(localStored)\nconst localStoredHashMap = localStoredObject || [\n    {favicon: \"https://favicon.link/google.com\", url: \"https://www.google.com\"},\n    {favicon: \"https://favicon.link/acwifi.net\", url: \"https://www.acwifi.net\"},\n    {favicon: \"https://favicon.link/v2ex.com\", url: \"https://v2ex.com\"},\n    {favicon: \"https://favicon.link/github.com\", url: \"https://github.com\"},\n    {favicon: \"https://favicon.link/bing.com\", url: \"https://bing.com\"},\n    {favicon: \"https://favicon.link/baidu.com\", url: \"https://baidu.com\"},\n    {favicon: \"https://favicon.link/bilibili.com\", url: \"https://bilibili.com\"},\n    {favicon: \"https://favicon.link/acfun.cn\", url: \"https://acfun.cn\"},\n    {favicon: \"https://favicon.link/jd.com\", url: \"http://www.jd.com/\"},\n    {favicon: \"https://favicon.link/vol.moe\", url: \"https://vol.moe\"}\n]\n\n\nconst simplifyUrl = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '') // 删除 / 开头的内容\n}\nconst domainName = (url) => {\n    // 待完善\n    return simplifyUrl(url).replace('.com', '')\n        .replace('.net', '')\n}\n\nconst render = () => {\n    $siteList.find('li').remove()\n    localStoredHashMap.forEach((node, index) => {\n        const $li = $(`<li>\n                <div class=\"site\">\n                    <div class=\"logo\"><img src=${node.favicon} alt=\"\"></div>\n                    <div class=\"siteName\">${domainName(node.url)}</div>\n                    <div class=\"close\">\n                        <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-remove\"></use>\n                        </svg>\n                    </div>\n                </div>\n            </li>`)\n\n        $li.on('click', () => {\n            window.open(node.url)\n        })\n        $li.on('click', '.close', (e) => {\n            e.stopPropagation()\n            localStoredHashMap.splice(index, 1)\n            render()\n        })\n\n        $siteList.append($li)\n    })\n}\n\nrender()\n\nconst $searchFrom = $('.searchForm')\nconst $searchInput = $('.searchInput')\nlet currentSearchEngine = localStorage.getItem('currentEngine') || 'bing'\n\nfunction changeSearchEngine(eventOrButtonName) {\n    let buttonName\n    if (eventOrButtonName instanceof Object) {\n        let currentClassName = eventOrButtonName.currentTarget.className\n        buttonName = currentClassName.replace('Btn', \"\")\n    } else if (typeof eventOrButtonName === \"string\") {\n        buttonName = eventOrButtonName\n    }\n\n    // setting searchButton background\n    $('.searchButton').css({'background': searchEngineColor[buttonName]})\n\n    // change searchFrom\n    $searchFrom.attr('action', searchFormList[buttonName].action)\n    $searchInput.attr('name', searchFormList[buttonName].name)\n    currentSearchEngine = buttonName\n}\n\n// Setting localEngine by page Loaded\nchangeSearchEngine(currentSearchEngine)\n\n$('.searchEngine').on('click', 'div', (e) => {\n    changeSearchEngine(e)\n})\n\nfunction faviconUrl(url) {\n    const faviconAPI = 'https://favicon.link/'\n    let baseURl = simplifyUrl(url)\n    return faviconAPI + baseURl\n}\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请输入需要添加的网址：')\n    if (!url) {\n        return\n    }\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    localStoredHashMap.push({\n        favicon: faviconUrl(url),\n        url: url\n    })\n    render()\n})\n\nwindow.onbeforeunload = () => {\n    const hashMapString = JSON.stringify(localStoredHashMap)\n    localStorage.setItem('localStored', hashMapString)\n    localStorage.setItem('currentEngine', currentSearchEngine)\n}\n\n$(document).ready(() => {\n    $('.searchInput').val(\"\")\n})"]}